<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>set map数组</title>
</head>
<body>
  <script type="text/javascript">
      /*
       * PS: set，这个数组类型，它里面的值不会重复
      */
      //demo1: 验证其不会重复的特性
      {
          let s = new Set();
          [5 , 6 , 8 , 4 ,4 ,5 , 9 , 7 ,4 ,6].map(val => s.add(val));
          for(let item of s)  console.log(item);
      }
      //demo2: set的几种加入和循环方法
      {
          console.log('------------------demo2------------------');
          let s1 = new Set([1 , 2 , 3]);
          let s2 = new Set([2 , 3, 4]);
          let s3 = new Set([...s1 , ...s2]);
          for(let item of s1.keys()) console.log(item);
          console.log('-----');
          for(let item of s2.values()) console.log(item);
          console.log('-----');
          s3.forEach((val , key) => console.log(val));
      }
      /*
       * PS; WeakSet结构同Set类似，也是不重复值的集合，不同点是WeakSet只能存储对象，第二点就是WeakSet不能遍历
      */
      {
          console.log('------------------demo3------------------');
          const wset = new WeakSet();
          let obj1 = {name : 'hf' , age : 26};
          let obj2 = {name : 'sky' , age : 18};
          let obj3 = {name : 'fly' , age : 10};
          wset.add(obj1);
          wset.add(obj2);
          wset.add(obj3);
          console.log(wset.has(obj1) , wset.has(obj2) ,
            wset.has(obj3));
          wset.delete(obj2);
          console.log(wset.has(obj1) , wset.has(obj2) ,
            wset.has(obj3));
      }
      /*
       * PS：map 是一种很厉害的Hash结构
      */
      //demo4 map可以用对象属性作为key，闪不闪，不过要使用set、get方法
      {
          console.log('------------------demo4------------------');
          let m = new Map();
          let o = {name : 'hf'};
          m.set(o , "what");
          console.log(m.get(o) , m.has(o));
      }
      //demo5 可以以数组的形式向map里添加数值
      {
          console.log('------------------demo5------------------');
          let m = new Map([
              ['name' , 'hf'] ,
              ['age' , 26]
          ]);
          console.log(m.size);
          console.log(m.has('name') , m.get('name'));
          console.log(m.has('age') , m.get('age'));
      }
      //demo6 map的遍历，有几种方法keys()、values()、entries()、forEach()
      {
          console.log('------------------demo6------------------');
          let m = new Map([
              ['name' , 'hf'] ,
              ['age' , '26'] ,
              ['addr' , 'china']
          ]);
          for(let key of m.keys()) console.log(key);
          console.log('---');
          for(let v of m.values()) console.log(v);
          console.log('---');
          for(let [key , val] of m.entries()) console.log(key , val);
          console.log('---');
          for(let [key , val] of m) console.log(key ,val);
          console.log('---');
          m.forEach((v , k , m) => console.log(v , k , m));

      }
  </script>
</body>
</html>
